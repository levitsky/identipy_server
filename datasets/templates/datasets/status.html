{% extends "base.html" %}
{% block title %}Search History{% endblock%}
{% block content %}
{% load stringfilter %}

<div id="menu"><form action="" method="post">{% csrf_token %}
        <ul>

        <li><div id="searchpage"><input type="submit" class="menubar" value="Start search" name="searchpage"></div></li>
        <li><div id="upload"><input type="submit" class="menubar" value="Upload files" name="uploadform"></div></li>
        <li><div id="get_status"><input type="submit" class="menubar current" value="Search history" name="getstatus"></div></li>
        <li><div id="contacts"><input type="submit" class="menubar" value="contacts" name="contacts"></div></li>

      </ul></form>
    </div>

<div id="tab">
<div id="vert_block"><form action="" method="POST">{% csrf_token %}
       {% if processes %}
              Page {{ res_page }} of {{ max_res_page  }} 
        <input type="text" id="searchinput" name="search_button" value=""  placeholder="Enter run name"/>
        <input type="submit" class="btn" value="Search previous runs by name" name="search_runname"/>
        </form>
    </div>
        

		
<h2><form action="" method="POST">{% csrf_token %}
        {% if res_page != max_res_page %}
        
         <input id="prev" type="submit" class="btn" value="older runs >>" name="prev_runs">
        
		{% else %}
		{% endif %}

        {% if res_page != 1 %}
        
         <input id ="newer" type="submit" class="btn" value="<< newer runs" name="next_runs">
     
		{% else %}
		{% endif %}

</form>
			<table type="bordered" id="processes_list">
                <tr id="headings">
                    <th>Search name</th>
                    <th>Search date</th>
                    <th>Status</th>
                </tr>
			{% for doc in processes %}
            <tr>
                <form action="" method="post">{% csrf_token %}
                <td class="td1" style="word-break:break-word"><input type="submit" class="link" value={{ doc.name|spacify }} name="search_details"/></td>
                </form>
                <td class="td1">{{ doc.date_added }}</td>
                <td class="td3">{{ doc.status }}</td>
            </tr>
			{% endfor %}
			</table></h2>
		{% else %}
			<h2><p>There are no searches</p></h2>
		{% endif %}
        <div id="status_back"><h2>
    
        <form action="" method="POST">{% csrf_token %}
         <input type="submit" class="backbtn" value="Start a new&#10;search run" name="searchpage">
            </form></h2>
           </div>
      
        </div>


{% endblock %}
